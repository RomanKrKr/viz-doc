# Делегаты

Делегаты - это участники сети, которым члены DAO VIZ доверили поддержку сети, создание и подпись блоков, а так же регулирование экономических и других параметров сети, в том числе принятие хардфорков. Доверие к делегату(его вес) зависит не только от количества отданных за него голосов, но и от их качества.  Условно вес делегата можно рассчитать по формуле ``W = n*S`` , где`` n`` - суммарное количество голосов, ``S`` - суммарное число акций всех проголосовавших за данного делегата.

Деятельность делегатов разделена на раунды. За один раунд создается 21 блок с интервалом в 3 секунды, таким образом продолжительность одного раунда составляет 63 секунды. В одном раунде могут принимать участие не более 21 делегата, которые в порядке очереди создают и подписывают новые блоки. За каждый сгенерированный блок делегат получает определненую награду в соответсвии с [моделью эмиссии](https://viz-doc.readthedocs.io/en/latest/economy.html#). Один раунд включает 11 топ делегатов(которые имеют наибольший вес) и 10 делегатов поддержки. Все делегаты, которые не вошли в текущий раунд дожидаются нового. При этом длительность ожидания зависит от их весов.  По истечении времени ожидание делегаты из очереди ожидания меняются с делегатами поддержки.

## Управление параметрами сети

Роль делегатов состоит в поддержке работоспособности сети и управления ее параметрами. И вот какими параметрами могут управлять делегаты:

1. [account_creation_fee](#account_creation_fee) - цена создания аккаунта в ликвидных токенах;
2. [create_account_delegation_ratio](#create_account_delegation_ratio) - Соотношения ликвида к акциям при создании аккаунта через делегирование доли (``количество акций = account_creation_fee * create_account_delegation_ratio``);
3. [create_account_delegation_time](#create_account_delegation_time) - минимальный промежуток времени, по окончании которого акционер может вернуть свою долю, затраченной на создание аккаунта путем делегирования(при обычном делегировании доля может быть возвращена через 1 день);
4. [maximum_block_size](#maximum_block_size) - максимальный размер блока;
5. [min_delegation](#min_delegation) - минимальное количество делегируемых акций;
6. [min_curation_percent](#min_curation_percent) - минимальный кураторский процент, который автор может выставить за пост;
7. [max_curation_percent](#max_curation_percent) - максимальный кураторский процент, который автор может выставить за пост;
8. [bandwidth_reserve_below](#bandwidth_reserve_below) - максимальное количество акций аккаунта, при котором ему выделяется резервная пропускная способность;
9. [bandwidth_reserve_percent](#bandwidth_reserve_percent) - процент резервирования пропускной способности от всего канала для аккаунтов с количестовм акций меньшим, чем bandwidth_reserve_below(в том числе и 0);
10. [flag_energy_additional_cost](#flag_energy_additional_cost]) - процент дополнительной затраты энергии при отрицательном голосовании за посты;
11. [vote_accounting_min_rshares](#vote_accounting_min_rshares) - минимальный порог количества наградных акций от одного аккаунта проголосовавшего за пост, выше которого начинается их учет в борьбе за выплаты из пула авторских наград;
12. [committee_request_approve_min_percent](#committee_request_approve_min_percent) - минимальным процент от всех голосов отданный за заявку вркера, при котором заявка считается подтвержденной;
13. Принятие хардфорков;

Значение каждого пункта, кроме 13, считается истинными в соответствии с медианной выборкой. Для принятия хардфорка нужно подтверждение 17 делегатов в раунде.

## Голосование за делегатов

Каждый акционер DAO VIZ может выбирать делегатов путем голосования в соответствии со своим видением сети и долей в ней. Голосовать можно двумя способам:

1. Прямое голосование. При таком способе голосования каждый акционер должен самостоятельно решать, за какого делегата отдать свой голос.
2. Голосование через прокси. При таком способе голосования акционер выбирает аккаунт-прокси, который будет решать кому
из делегатов отдать голоса всех акционеров, доверивших ему свои доли.

При голосовании стоит учитывать, что одновременно отдать свой голос можно максимум за двух делегатов.

## Подробное описание голосуемых параметров

<div id="account_creation_fee"></div>

### account_creation_fee

Чтобы стать акционером DOA VIZ, нужно зарегистрировать аккаунт - это именной кошелек, на котором хранятся все средства нового акционера. Эта процедура не является бесплатной, чтобы зарегистрировать ново пользователя кто-то из уже существующих членов DOA VIZ должен отправить транзакцию создания ново пользователя, которому будет переведено минимальное количество токенов, конвертированных в акции. Это минимальное количество токенов и прописано в ``account_creation_fee``.

<div id="create_account_delegation_ratio"></div>

### create_account_delegation_ratio

Аккаунт может быть создан не только за ликвидные токены, но и с помощью делегирования части своих акций новому аккаунту во время создания. При этом в количественном соотношении таким способом создать аккаунт дороже, но зато делегированную долю можно всегда вернуть. Именно отношение во сколько раз нужно делегировать больше акций чем при переводе ликвида.

### create_account_delegation_time

При создании аккаунта регистратор не может вернуть свою долю сразу, для этого ему придется ждать ровно столько дней, сколько указано в ``create_account_delegation_time``

<div id="maximum_block_size"></div>

### maximum_block_size

Каждый блок может вмещать ограниченный размер информации в байтах. Голосуя за этот параметр делегаты могут решать проблемы масштабируемости сети.

<div id="min_delegation"></div>

### min_delegation

Ни один акционер не может делегировать другому аккаунту количество акций меньшее чем указано в ``min_delegation`` в пересчете на ликвид.

<div id="min_curation_percent"></div>

### min_curation_percent

Минимальный кураторский процент, который автор может выставить за пост.

<div id="max_curation_percent"></div>

### max_curation_percent

Максимальный кураторский процент, который автор может выставить за пост.

<div id="bandwidth_reserve_below"></div>

### bandwidth_reserve_below

Если у аккаунта количество акций меньше, чем показатель ``bandwidth_reserve_below`` то ему выделяется дополнительная пропускная способность.

<div id="bandwidth_reserve_percent"></bandwidth_reserve_percent>

### bandwidth_reserve_percent

Процент,  указанный в ``bandwidth_reserve_percent`` от всей пропускной способности сети будет зарезервирован для аккаунтов с количеством акций меньшим чем ``bandwidth_reserve_below``.

<div id="flag_energy_additional_cost"></div>

### flag_energy_additional_cost

 Процент дополнительной затраты энергии при отрицательном голосовании за посты.

<div id="vote_accounting_min_rshares"></div>

### vote_accounting_min_rshares

Минимальное количество наградных акций(rshares), которое влияет на выплату за пост.

Рассчитать rshares можно по формуле rshares = s*e.

Где ``s`` - число акций, ``e`` - процент энергии который будет затрачана. При апе ``e = |w|/5``, при флаге ``e = |w|/5 + (|w|/5*flag_energy_additional_cost)``, где ``w`` - процент голосования, а ``flag_energy_additional_cost`` -  [процент дополнительной затраты энергии при отрицательном голосовании за посты](#flag_energy_additional_cost).

<div id="committee_request_approve_min_percent"></div>

### committee_request_approve_min_percent

Минимальным процент от всех голосов отданный за заявку вркера, при котором заявка считается подтвержденной.